<div id="training-contest-editor">
  <div class="row">
    <div class="col-md-12">
      <h1>{{title}}</h1>
    </div>

    <div class="col-md-12">
      <form class="form-horizontal">
        <fieldset>
          <div class="form-group">
            <label class="control-label col-sm-2"
                   for="title">Title</label>

            <div class="col-sm-10">
              <input type="text"
                     id="title"
                     class="form-control input-sm"
                     placeholder="Contest title"
                     ng-model="trainingContestDto.title"/>
              <ui-validate-info value="fieldInfo"
                                for="title"></ui-validate-info>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-2"
                   for="link">Link</label>

            <div class="col-sm-10">
              <input type="text"
                     id="link"
                     class="form-control input-sm"
                     placeholder="Contest link"
                     ng-model="trainingContestDto.link"/>
              <ui-validate-info value="fieldInfo" for="link"></ui-validate-info>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-2 "
                   for="type">Type</label>

            <div class="col-sm-4">
              <select ng-model="trainingContestDto.type"
                      ng-options="type.trainingContestTypeId as type.description for type in $root.trainingContestTypeList"
                      id="type"
                      ng-required="true"
                      class="form-control input-sm">
              </select>
              <ui-validate-info value="fieldInfo" for="type"></ui-validate-info>
            </div>

            <label class="control-label col-sm-2"
                   ng-if="trainingContestDto.type == 0"
                   for="platformType">Platform</label>

            <div class="col-sm-4"
                 ng-if="trainingContestDto.type == 0">
              <select ng-model="trainingContestDto.platformType"
                      ng-options="type.trainingPlatformTypeId as type.description for type in $root.trainingPlatformTypeList"
                      id="platformType"
                      ng-required="true"
                      class="form-control input-sm">
              </select>
              <ui-validate-info value="fieldInfo"
                                for="platformType"></ui-validate-info>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <legend>Result</legend>

          <div class="form-group">
            <label class="control-label col-sm-2">Upload</label>

            <div class="col-sm-10">
              <ui-training-contest-result-uploader
                  result="trainingContestDto.rankList"></ui-training-contest-result-uploader>
            </div>
          </div>

          <div class="col-md-12">
            <table class="table table-striped table-bordered">
              <thead>
              <tr>
                <th ng-repeat="column in trainingContestDto.rankList.fields track by $index"
                    class="text-center"
                    style="min-width: 75px;">
                  {{column}}
                </th>
              </tr>
              <tr>
                <th ng-repeat="type in trainingContestDto.rankList.fieldType track by $index">
                  <select ng-model="type"
                          ng-options="fieldType.trainingResultFieldTypeId as fieldType.description for fieldType in $root.trainingResultFieldTypeList"
                          ng-required="true"
                          style="width: 100%"></select>
                </th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="user in trainingContestDto.rankList.users track by $index">
                <td ng-repeat="column in user.rawData track by $index">
                  {{column}}
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>